(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"05f8":function(e,t,s){"use strict";var r=s("6474"),n=s.n(r);n.a},6474:function(e,t,s){},7125:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("q-banner",{staticClass:"bg-primary text-white",attrs:{"inline-actions":"",rounded:""},scopedSlots:e._u([{key:"avatar",fn:function(){return[s("q-btn",{staticClass:"text-body2 text-lowercase text-capitalize\t",staticStyle:{"z-index":"2"},attrs:{flat:"",dense:"",icon:"arrow_back",label:"Retour"},on:{click:function(t){return e.$router.go(-1)}}})]},proxy:!0}])},[s("q-toolbar-title",{staticClass:"text-h6 flex flex-center",staticStyle:{"margin-right":"80px"}},[e._v("\n            "+e._s(e.otherUserDetails.name)+"\n           ")])],1),s("q-page",{ref:"pagechat",staticClass:"page-chat flex column"},[0==e.otherUserDetails.online?s("q-banner",{staticClass:"text-white text-center bg-grey-4"},[e._v("\n     "+e._s(e.otherUserDetails.name)+" est hors ligne\n    ")]):e._e(),s("div",{staticClass:"q-pa-md column col justify-end",class:{invisible:!e.showMessages}},e._l(e.messages,(function(t,r){return s("q-chat-message",{key:r,attrs:{rounded:"",name:"me"==t.from?e.userDetails.name:e.otherUserDetails.name,text:[t.text],sent:"me"==t.from,"bg-color":"me"==t.from?"white":"red-4"}})})),1),s("q-footer",{attrs:{elevated:""}},[s("q-toolbar",[s("q-form",{staticClass:"full-width",on:{submit:function(t){return e.sendMessage()}}},[s("q-input",{ref:"newMessage",attrs:{"bg-color":"white",rounded:"",outlined:"",label:"Message",dense:""},scopedSlots:e._u([{key:"after",fn:function(){return[s("q-btn",{attrs:{color:"white",round:"",dense:"",flat:"",icon:"send"},on:{click:function(t){return e.sendMessage()}}})]},proxy:!0}]),model:{value:e.newMessage,callback:function(t){e.newMessage=t},expression:"newMessage"}})],1)],1)],1)],1)],1)},n=[],a=(s("8e6e"),s("8a81"),s("ac6a"),s("cadf"),s("06db"),s("456d"),s("c47a")),o=s.n(a),i=s("2f62");function c(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?c(Object(s),!0).forEach((function(t){o()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):c(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var u={data:function(){return{newMessage:"",showMessages:!1}},computed:l({},Object(i["d"])("store",["messages","userDetails"]),{otherUserDetails:function(){return this.$store.state.store.users[this.$route.params.otherUserId]}}),methods:l({},Object(i["b"])("store",["firebaseGetMessages","firebaseStopGettingMessages","firebaseSendMessage"]),{sendMessage:function(){this.firebaseSendMessage({message:{text:this.newMessage,from:"me"},otherUserId:this.$route.params.otherUserId}),this.clearMessage()},clearMessage:function(){this.newMessage="",this.$refs.newMessage.focus()},scrollToBottom:function(){var e=this.$refs.pagechat.$el;setTimeout((function(){window.scrollTo(0,e.scrollHeight)}),20)}}),watch:{messages:function(e){var t=this;Object.keys(e).length&&(this.scrollToBottom(),setTimeout((function(){t.showMessages=!0}),200))}},mounted:function(){console.log(),this.firebaseGetMessages(this.$route.params.otherUserId)},destroyed:function(){this.firebaseStopGettingMessages()}},f=u,g=(s("05f8"),s("2877")),h=s("eebe"),d=s.n(h),b=s("54e1"),p=s("6ac5"),m=s("9c40"),w=s("9989"),y=s("8169"),M=s("7ff0"),O=s("65c6"),x=s("0378"),v=s("27f9"),j=Object(g["a"])(f,r,n,!1,null,null,null);t["default"]=j.exports;d()(j,"components",{QBanner:b["a"],QToolbarTitle:p["a"],QBtn:m["a"],QPage:w["a"],QChatMessage:y["a"],QFooter:M["a"],QToolbar:O["a"],QForm:x["a"],QInput:v["a"]})}}]);