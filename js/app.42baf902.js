(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{0:function(e,t,n){e.exports=n("2f39")},"0047":function(e,t,n){},"07a4":function(e,t,n){"use strict";n("ac6a"),n("cadf"),n("06db"),n("456d"),n("7f7f");var r,a=n("dad6"),s=n.n(a),o=(n("f751"),n("fc1b")),u=n("2b0e"),c=n("bc3a"),i=n.n(c),l={userDetails:{},users:{},messages:{}},p={setUserDetails:function(e,t){e.userDetails=t},addUser:function(e,t){u["a"].set(e.users,t.userId,t.userDetails)},updateUser:function(e,t){Object.assign(e.users[t.userId],t.userDetails)},addMessage:function(e,t){u["a"].set(e.messages,t.messageId,t.messageDetails)},clearMessages:function(e){e.messages={}}},f={registerUser:function(e,t){var n=e.commit;o["b"].createUserWithEmailAndPassword(t.email,t.phone).then((function(e){n("setWay",1),console.log(e);var r=o["b"].currentUser.uid;o["c"].ref("users/"+r).set({name:t.username,email:t.email,online:!0,phone:t.phone}),i.a.post("http://localhost:9090/user",{id:r,nom:t.username,phone:t.phone}).then((function(e){console.log("utilisateur spring ajout√©",e)})).catch((function(e){console.log("erreur Springs user",e)}))})).catch((function(e){console.log(e.message)}))},loginUser:function(e,t){var n=this;s()(e),o["b"].signInWithEmailAndPassword(t.email,t.password).then((function(e){console.log(e),n.$router.push({name:"home"})})).catch((function(e){console.log(e.message)})),console.log("LoginUser")},handleAuthStateChanged:function(e){var t=this,n=e.commit,r=e.dispatch;e.state;o["b"].onAuthStateChanged((function(e){if(e){var a=o["b"].currentUser.uid;o["c"].ref("users/"+a).once("value",(function(e){console.log("snapshot :",e);var t=e.val();console.log("userDetails : ",t),n("setUserDetails",{name:t.name,phone:t.phone,userId:a})})),r("firebaseUpdateUser",{userId:a,updates:{online:!0}}),r("firebaseGetUsers"),t.$router.push({name:"home"})}else r("firebaseUpdateUser",{userId:userId,updates:{online:!1}}),n("setUserDetails",{})}))},firebaseUpdateUser:function(e,t){s()(e),o["c"].ref("users/"+t.userId).update(t.updates)},firebaseGetUsers:function(e){var t=e.commit;o["c"].ref("users").on("child_added",(function(e){var n=e.val(),r=e.key;t("addUser",{userId:r,userDetails:n})})),o["c"].ref("users").on("child_changed",(function(e){var n=e.val(),r=e.key;t("updateUser",{userId:r,userDetails:n})}))},firebaseGetMessages:function(e,t){var n=e.commit,a=e.state,s=a.userDetails.userId;r=o["c"].ref("chats/"+s+"/"+t),r.on("child_added",(function(e){var t=e.val(),r=e.key;n("addMessage",{messageId:r,messageDetails:t})}))},firebaseStopGettingMessages:function(e){var t=e.commit;r&&(r.off("child_added"),t("clearMessages"))},firebaseSendMessage:function(e,t){s()(e),o["c"].ref("chats/"+l.userDetails.userId+"/"+t.otherUserId).push(t.message),t.message.from="them",o["c"].ref("chats/"+t.otherUserId+"/"+l.userDetails.userId).push(t.message)}},d={users:function(e){var t={};return Object.keys(e.users).forEach((function(n){n!==e.userDetails.userId&&(t[n]=e.users[n])})),t},authway:function(e){e.authway}};t["a"]={namespaced:!0,state:l,mutations:p,actions:f,getters:d}},"2f39":function(e,t,n){"use strict";n.r(t);var r=n("967e"),a=n.n(r),s=(n("a481"),n("96cf"),n("fa84")),o=n.n(s),u=(n("5c7d"),n("573e"),n("7d6e"),n("e54f"),n("985d"),n("0047"),n("2b0e")),c=n("1f91"),i=n("42d2"),l=n("b05d"),p=n("0016"),f=n("4983");u["a"].use(l["a"],{config:{},lang:c["a"],iconSet:i["a"],plugins:{QIcon:p["a"],QScrollArea:f["a"]}});var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},h=[],m=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),b=n.n(m),g=n("2f62");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={methods:w({},Object(g["b"])("store",["handleAuthStateChanged","loginUser"])),mounted:function(){this.handleAuthStateChanged()},beforeMount:function(){var e=JSON.parse(localStorage.getItem("user"));localStorage.getItem("user")&&(this.loginUser(e),console.log(e))}},I=y,U=n("2877"),O=Object(U["a"])(I,d,h,!1,null,null,null),P=O.exports,D=n("07a4");u["a"].use(g["a"]);var k=function(){var e=new g["a"].Store({modules:{store:D["a"]},strict:!1});return e},x=n("8c4f"),j=[{path:"/login",name:"login",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"c6f7"))}},{path:"/",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"713b"))},children:[{path:"/home",name:"home",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"eea6"))}},{path:"/details/:id",name:"details",props:!0,component:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"3258"))}},{path:"/customer_management",component:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"6fa0"))}},{path:"/change_request",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"e69f"))}},{path:"/my_profile",component:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"6968"))}},{path:"/category/:name",name:"category",props:!0,component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"dfd2"))}},{path:"/addproduct",name:"addproduct",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"1a09"))}},{path:"/userspage",name:"userspage",component:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"6742"))}},{path:"/chatpage/:otherUserId",name:"chatpage",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"7125"))}}]}];j.push({path:"*",component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"eea6"))}});var S=j;u["a"].use(x["a"]);var A=function(){var e=new x["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:S,mode:"history",base:"/"});return e},_=function(){return M.apply(this,arguments)};function M(){return M=o()(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof k){e.next=6;break}return e.next=3,k({Vue:u["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=k;case 7:if(t=e.t0,"function"!==typeof A){e.next=14;break}return e.next=11,A({Vue:u["a"],store:t});case 11:e.t1=e.sent,e.next=15;break;case 14:e.t1=A;case 15:return n=e.t1,t.$router=n,r={el:"#q-app",router:n,store:t,render:function(e){return e(P)}},e.abrupt("return",{app:r,store:t,router:n});case 19:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}var Q=n("fc1b");function q(){return C.apply(this,arguments)}function C(){return C=o()(a.a.mark((function e(){var t,n,r,s,o,c,i,l,p;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,n=t.app,r=t.store,s=t.router,o=!0,c=function(e){o=!1,window.location.href=e},i=window.location.href.replace(window.location.origin,""),l=[Q["default"]],p=0;case 11:if(!(!0===o&&p<l.length)){e.next=29;break}if("function"===typeof l[p]){e.next=14;break}return e.abrupt("continue",26);case 14:return e.prev=14,e.next=17,l[p]({app:n,router:s,store:r,Vue:u["a"],ssrContext:null,redirect:c,urlPath:i});case 17:e.next=26;break;case 19:if(e.prev=19,e.t0=e["catch"](14),!e.t0||!e.t0.url){e.next=24;break}return window.location.href=e.t0.url,e.abrupt("return");case 24:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 26:p++,e.next=11;break;case 29:if(!1!==o){e.next=31;break}return e.abrupt("return");case 31:new u["a"](n);case 32:case"end":return e.stop()}}),e,null,[[14,19]])}))),C.apply(this,arguments)}q()},fc1b:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r=n("59ca"),a=(n("ea7b"),n("66ce"),{apiKey:"AIzaSyAUUJCHAzKBXooIQ1qQz9ytqeQdqWIlOv8",authDomain:"iucshop.firebaseapp.com",databaseURL:"https://iucshop.firebaseio.com",projectId:"iucshop",storageBucket:"iucshop.appspot.com",messagingSenderId:"654952336640",appId:"1:654952336640:web:4316c56fbb9f61750e37e5",measurementId:"G-HZVXBTQ2K6"}),s=r["initializeApp"](a),o=s.auth(),u=s.database()}},[[0,3,0]]]);